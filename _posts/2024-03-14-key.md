---
layout: single
categories: Data
tag: DataBase
title: "키(key)"
typora-root-url: ../
tos: true
---

# 키(key)의 개념 및 종류

**키(key)란?** 릴레이션에서 투플들을 유일하게 구별하는 속성 또는 속성들의 집합을 말합니다.



**키(key)의 특성 및 종류**

- **유일성(uniqueness):** 하나의 릴레이션에서 모든 투플은 구별하기 위해 서로 다른 키 값을 가져야 합니다.
- **최소성(minimality):** 꼭 필요한 최소한의 속성들로만 키를 구성해야 합니다.



<img src="/images/2024-03-14-key/image-20240314105752398.png" alt="image-20240314105752398" style="zoom: 80%;" />

- **슈퍼키(super key):** 유일성을 만족하는 속성 또는 속성들의 집합을 말합니다.
- **후보키(candidate key):** 유일성과 최소성을 만족하는 속성 또는 속성들의 집합을 말합니다.
- **기본키(primary key):** 후보키 중에서 기본적으로 사용하기 위해 선택한 키입니다.
- **대체키(alternate key):** 키본키로 선택되지 못한 후보키 입니다.
- **외래키(foregin key):** 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합을 말합니다.



### **수강신청 데이터 베이스**

<img src="/images/2024-03-14-key/image-20240314110403735.png" alt="image-20240314110403735" style="zoom:50%;" /><img src="/images/2024-03-14-key/image-20240314110440120.png" alt="image-20240314110440120" style="zoom:50%;" />



**슈퍼키(super key)**

- 학생 릴레이션 예시)
  - 이름 (X) - 동명이인이 있을 수 있기 때문입니다.
  - **학번 (O)**
  - 핸드폰 번호(X) - 한 사람이 여러 개의 핸드폰을 사용할 수 있고 반대로 핸드폰을 사용하지 않는 사람이 있을 수 있기 때문입니다.
  - **주민번호 (O)**
  - 주소 (X) - 가족끼리 같은 정보를 사용하므로 투플을 식별할 수 없습니다.
- 투플을 유일하게 식별할 수 있는 <u>하나의 속성 혹은 속성의 집합</u>
  - 투플을 <u>유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합</u>으로써 **학번**과 주민번호를 포함한 모든 속성의 집합이 슈퍼키가 됩니다.
  - 예시) (**학번**), (학번, 이름), (**학번**, 이름, 핸드폰 번호), (주민번호), (**주민번호**, 이름, 주소), (학번, 이름, **주민번호**, 주소) 등



**후보키(candidate key)**

- 수강신청 릴레이션의 예시)

  - id: 투플을 유일하게 식별할 수 있기 때문에 후보키가 될 수 있습니다.

  - 학번: 한 학생이 여러 수업을 들을 수 있으므로 후보키가 될 수 없습니다. 학번이 202001583의 학생은 세 번의 수강신청 기록이 있으므로 투플을 유일하게 식별할 수 없습니다.
  - 수업번호: 한 수업에 여러 학생이 들을 수 있으므로 후보키가 될 수 없습니다. 

- 수강신청 릴레이션의 후보키는 (id)와 2개의 속성을 합한 (학번, 수업번호)가 됩니다. 두개 이상의 속성으로 이루어진 키를 **복합키(composite key)**라고 합니다.



**기본키(primary key)**

- 여러 후보키 중 하나를 선정하여 대표로 삼는 키(key)입니다.
- **기본키 선정 시 고려사항**
  - 릴레이션 내 투플을 식별할 수 있는 **고유한 값**을 가져야 합니다.
  - **NULL** 값은 허용하지 않고, <u>값의 변동이 일어나지 않아야</u> 합니다.
  - **최소성**을 만족시켜야 합니다.
  - 향후 키를 사용하는 데 있어서 <u>문제 발생 소지가 없어야</u> 합니다.
- 릴레이션 스키마를 표현할 때 기본키는 밑줄을 그어 표시해야 합니다.
  - 학생(<u>학번</u>, 이름, 핸드폰 번호, 주민 번호, 주소)
  - 교수(<u>교수번호</u>, 이름, 소속학과)
  - 강의(<u>수업번호</u>, 수업명, 강의실, 교수명)



**대체키(alternate key)**

- 기본키로 선정되지 않은 후보키를 말합니다.
- 학생 릴레이션의 경우 학번을 기본키로 정하면 주민번호가 **대체키**가 됩니다.



**외래키(foreign key)**

- 다른 릴레이션의 기본키를 참조하여 관계 데이터 모델의 특징인 릴레이션 간의 **관계(relationship)**를 표현합니다.
- 외래키의 특징
  - 관계 데이터 모델의 릴레이션 간의 <u>관계를 표현</u>합니다.
  - 다른 릴레이션의 <u>기본키를 참조</u>하는 속성입니다.
  - 참조하고(외래키) 참조되는(기본키) 양쪽 릴레이션의 도메인은 **서로 같아야** 합니다.
  - 참조되는(기본키) 값이 변경되면 참조하는(외래키) 값도 **변경**됩니다.
  - NULL 값과 중복 값 등이 **허용**됩니다.
  - <u>자기 자신의 기본키를 참조</u>하는 외래키도 가능합니다.
  - 외래키가 기본키의 일부가 될 수 있습니다.

![image-20240314113619817](/images/2024-03-14-key/image-20240314113619817.png)



### 키의 관계

![image-20240314113647870](/images/2024-03-14-key/image-20240314113647870.png)











